{
  "$schema": "https://json-schema.org/draft-07/schema",
  "title": "Agentic project schema",
  "description": "Schema used by 'agentic.json' files to configure Agentic projects.",
  "additionalProperties": false,
  "type": "object",
  "properties": {
    "name": {
      "type": "string",
      "description": "The name of the project."
    },
    "description": {
      "type": "string",
      "description": "A one-sentence description of the project."
    },
    "readme": {
      "type": "string",
      "description": "A readme documenting the project (supports GitHub-flavored markdown)."
    },
    "sourceUrl": {
      "type": "string",
      "format": "uri",
      "description": "Optional URL to the source code for the project."
    },
    "iconUrl": {
      "type": "string",
      "format": "uri",
      "description": "Optional logo image URL to use for the project. Logos should have a square aspect ratio."
    },
    "originUrl": {
      "type": "string",
      "format": "uri",
      "description": "Required base URL of the externally hosted origin API server. Must be a valid `https` URL.\n\nNOTE: Agentic currently only supports `external` API servers. If you'd like to host your API or MCP server on Agentic's infrastructure, please reach out to support@agentic.so."
    },
    "originAdapter": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "const": "openapi"
            },
            "spec": {
              "type": "string",
              "description": "JSON stringified OpenAPI spec describing the origin API server."
            },
            "location": {
              "type": "string",
              "const": "external"
            }
          },
          "required": ["type", "spec", "location"],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "const": "raw"
            },
            "location": {
              "$ref": "#/properties/originAdapter/anyOf/0/properties/location"
            }
          },
          "required": ["type", "location"],
          "additionalProperties": false
        }
      ],
      "description": "Deployment origin API adapter is used to configure the origin API server downstream from Agentic's API gateway. It specifies whether the origin API server denoted by `originUrl` is hosted externally or deployed internally to Agentic's infrastructure. It also specifies the format for how origin tools / services are defined: either as an OpenAPI spec, an MCP server, or as a raw HTTP REST API.\n\nNOTE: Agentic currently only supports `external` API servers. If you'd like to host your API or MCP server on Agentic's infrastructure, please reach out to support@agentic.so.",
      "default": {
        "location": "external",
        "type": "raw"
      }
    },
    "pricingPlans": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "minLength": 1
          },
          "slug": {
            "type": "string",
            "minLength": 1,
            "description": "PricingPlan slug (\"free\", \"starter-monthly\", \"pro-annual\", etc)"
          },
          "interval": {
            "type": "string",
            "enum": ["day", "week", "month", "year"],
            "description": "The frequency at which a subscription is billed."
          },
          "desc": {
            "type": "string"
          },
          "features": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "trialPeriodDays": {
            "type": "number",
            "minimum": 0
          },
          "lineItems": {
            "type": "array",
            "items": {
              "anyOf": [
                {
                  "type": "object",
                  "properties": {
                    "slug": {
                      "anyOf": [
                        {
                          "type": "string"
                        },
                        {
                          "type": "string",
                          "const": "base"
                        },
                        {
                          "type": "string",
                          "const": "requests"
                        }
                      ]
                    },
                    "interval": {
                      "$ref": "#/properties/pricingPlans/items/properties/interval",
                      "description": "The frequency at which a subscription is billed."
                    },
                    "label": {
                      "type": "string"
                    },
                    "usageType": {
                      "type": "string",
                      "const": "licensed"
                    },
                    "amount": {
                      "type": "number",
                      "minimum": 0
                    }
                  },
                  "required": ["slug", "usageType", "amount"],
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "slug": {
                      "$ref": "#/properties/pricingPlans/items/properties/lineItems/items/anyOf/0/properties/slug"
                    },
                    "interval": {
                      "$ref": "#/properties/pricingPlans/items/properties/lineItems/items/anyOf/0/properties/interval"
                    },
                    "label": {
                      "$ref": "#/properties/pricingPlans/items/properties/lineItems/items/anyOf/0/properties/label"
                    },
                    "usageType": {
                      "type": "string",
                      "const": "metered"
                    },
                    "unitLabel": {
                      "type": "string"
                    },
                    "rateLimit": {
                      "type": "object",
                      "properties": {
                        "interval": {
                          "type": "number"
                        },
                        "maxPerInterval": {
                          "type": "number"
                        }
                      },
                      "required": ["interval", "maxPerInterval"],
                      "additionalProperties": false
                    },
                    "billingScheme": {
                      "type": "string",
                      "enum": ["per_unit", "tiered"]
                    },
                    "unitAmount": {
                      "type": "number",
                      "minimum": 0
                    },
                    "tiersMode": {
                      "type": "string",
                      "enum": ["graduated", "volume"]
                    },
                    "tiers": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "unitAmount": {
                            "type": "number"
                          },
                          "flatAmount": {
                            "type": "number"
                          },
                          "upTo": {
                            "anyOf": [
                              {
                                "type": "number"
                              },
                              {
                                "type": "string",
                                "const": "inf"
                              }
                            ]
                          }
                        },
                        "required": ["upTo"],
                        "additionalProperties": false
                      }
                    },
                    "defaultAggregation": {
                      "type": "object",
                      "properties": {
                        "formula": {
                          "type": "string",
                          "enum": ["sum", "count", "last"],
                          "default": "sum"
                        }
                      },
                      "additionalProperties": false
                    },
                    "transformQuantity": {
                      "type": "object",
                      "properties": {
                        "divideBy": {
                          "type": "number",
                          "exclusiveMinimum": 0
                        },
                        "round": {
                          "type": "string",
                          "enum": ["down", "up"]
                        }
                      },
                      "required": ["divideBy", "round"],
                      "additionalProperties": false
                    }
                  },
                  "required": ["slug", "usageType", "billingScheme"],
                  "additionalProperties": false
                }
              ],
              "description": "PricingPlanLineItems represent a single line-item in a Stripe Subscription. They map to a Stripe billing `Price` and possibly a corresponding Stripe `Meter` for metered usage."
            },
            "minItems": 1,
            "maxItems": 20
          }
        },
        "required": ["name", "slug", "lineItems"],
        "additionalProperties": false,
        "description": "Represents the config for a Stripe subscription with one or more PricingPlanLineItems."
      },
      "minItems": 1,
      "description": "List of PricingPlans to enable subscriptions for the project. Defaults to a single free tier.",
      "default": [
        {
          "name": "Free",
          "slug": "free",
          "lineItems": [
            {
              "slug": "base",
              "usageType": "licensed",
              "amount": 0
            }
          ]
        }
      ]
    }
  },
  "required": ["name", "originUrl"]
}
